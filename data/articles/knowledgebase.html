<html>

<head>
  <meta property="Description" content="MKPartners Knowledgebase">
  <meta name="keywords" content="MKPartners Salesforce Force.com APEX">
  <meta name="article-author" content="MKPartners">
  <meta property="og:type" content="article">
  <meta property="og:title" content="MKPartners Knowledgebase">
  <meta property="og:description" content="MKPartners Knowledgebase">
  <meta property="og:image" content="https://www.mkpartners.com/images/mkp-icon-512.png">
  <meta property="og:site_name" content="MKPartners">
  <meta property="og:url" content="https://www.mkpartners.com/list/support">
  <meta property="article:publisher" content="https://www.mkpartners.com/">
  <meta property="article:published_time" content="2016-11-10">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://www.mkpartners.com/list/support">
  <meta name="twitter:title" content="MKPartners Knowledgebase">
  <meta name="twitter:description" content="MKPartners Knowledgebase">
  <meta name="twitter:image:src" content="https://www.mkpartners.com/images/mkp-icon-512.png">
  <meta name="twitter:site" content="@MKPartners">
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "NewsArticle",
      "mainEntityOfPage": "https://www.mkpartners.com/list/support",
      "headline": "MKPartners Knowledgebase",
      "datePublished": "2016-11-10T14:00:00+00:00",
      "dateModified": "2016-11-11T06:21:30.434480+00:00",
      "description": "MKPartners Knowledgebase",
      "author": {
        "@type": "Person",
        "name": "MKPartners"
      },
      "publisher": {
        "@type": "Organization",
        "name": "MKPartners",
        "logo": {
          "@type": "ImageObject",
          "url": "https://www.mkpartners.com/images/mkp-icon-512.png",
          "width": "200",
          "height": "200"
        }
      },
      "image": {
        "@type": "ImageObject",
        "url": "https://www.mkpartners.com/images/mkp-icon-512.png",
        "width": "1440",
        "height": "810"
      }
    }
  </script>
</head>

<body>

  <div class="content" style="width: 93%;">
    <div>

      <div class="listcontainer" style="margin: 0 auto; max-width: 100%;">
        <div class="item">
          <div class="pad">
            <div class="primary">Before you hire that consulting firm</div>

            <input class="css-expander" type="checkbox" name="one" id="item-1" />
            <h4>
              <label class="css-expander" for="item-1" title="Click to expand">
              <label for="item-1" class="expanded-status"></label>&nbsp;<a href="article/sfpartner.html">Selecting a Salesforce Partner... Read More</a></label>
            </h4>
            <div class="css-expander-hide">
              <p>
                <div>
                  <p>Cloud consulting is a hot industry. &nbsp;New companies are created every day, but they're not all equal. &nbsp;Before you trust your business and money with someone, do some research. &nbsp;An established firm may seem to cost more,
                    but that's because they have a permanent&nbsp;office you can visit, insurance to cover theft and injury, and a large enough staff to ensure that your project is not abandoned. &nbsp;Below is a simple list of steps you should take to
                    protect your investment and ensure your Salesforce implementation is a success.</p>

                  <ol>
                    <li>Look at the&nbsp;company's listing on the <a style="display: inline;" href="https://appexchange.salesforce.com/listingDetail?listingId=a0N30000001gF9jEAE" target="_blank">AppExchange</a> to see how much experience they have and how
                      their customers have rated them.
                    </li>
                    <li>Make sure the <a style="display: inline;" href="http://www.mkpartners.com/ContactMe" target="_blank">company's&nbsp;website</a> has their phone number and address. &nbsp;Real companies want to be found.</li>
                    <li>Call their phone number, does it ring someone's cell phone or do they have a receptionist?</li>
                    <li>Lookup their address in <a style="display: inline;" href="https://goo.gl/maps/W0Wrx" target="_blank">Google Maps</a> to make sure it's a building that really exists and not a house.</li>
                    <li>Use <a style="display: inline;" href="https://www.google.com/maps/@34.1744407,-118.3615736,3a,15y,243.93h,82.57t/data=!3m4!1e1!3m2!1siZtJfTqWea_NTBmq27_16g!2e0" target="_blank">Google Street View</a> to make sure their address is not
                      a private PO Box or empty lot.
                    </li>
                    <li>Search for the&nbsp;business on the <a style="display: inline;" href="http://kepler.sos.ca.gov/" target="_blank">Secretary of State's website</a>, real businesses are registered and&nbsp;file paperwork&nbsp;annually.</li>
                    <li>Search for the&nbsp;business on <a style="display: inline;" href="http://mycredit.dnb.com/search/?busName=MK+Partners&amp;address=&amp;city=North+Hollywood&amp;state=CA&amp;zip=91601&amp;country=US&amp;searchType=heroSearch&amp;dunsLookup=1"
                        target="_blank">Dun &amp; Bradstreet's website</a>;&nbsp;an established business will have a DUNS # and credit history.</li>
                    <li>Ask the company for a copy of their insurance certificate;&nbsp;besides liability insurance they should also have a worker's compensation policy.</li>
                  </ol>

                  <p>Every big company started&nbsp;as a small one, and we definitely encourage supporting small businesses. &nbsp;A small business you can trust is one whose owners and employees are fully committed to perservering through the good times
                    and bad&nbsp;and that means establishing a permanent footprint.</p>

                  <p>&nbsp;</p>
                </div>
              </p>
            </div>
          </div>
        </div>
        <div class="item">
          <div class="pad">
            <div class="primary">Concurrent Licensing Models on Force.com</div>
            <input class="css-expander" type="checkbox" name="two" id="item-2" />
            <h4>
        <label class="css-expander" for="item-2" title="Click to expand">
        <label for="item-2" class="expanded-status"></label>&nbsp;How to use Apex to mimic a Concurrent Licensing Model... read more</label>
      </h4>
            <div class="css-expander-hide">
              <p>
                <div>
                  <p>Unlike home-grown applications, cloud-based applications are typically licensed on a per user model. &nbsp;This can be a big deterrent to large organizations that want to benefit from the advantages of a cloud-based application for low-use
                    business purposes.</p>
                  <p>Many of our clients have asked us to help them find the right licensing options for users that need to login to the platform infrequently or sporadically. &nbsp;Unfortunately, there is no concurrent licensing model for Force.com Users
                    available at this time. &nbsp;However, it is an acceptable term of use (and even an encouraged one) to deactivate a user's license in order to activate another user's license. &nbsp;Taking advantage of this ability and the robust ability
                    of the Force.com platform's Apex programming language, we can build an license management engine that will allow you to pool your licenses across your organization.</p>
                  <p> Actual implementations will vary depending on business requirements and whether single sign-on is used, however the basic framework is the same. &nbsp;Let's assume that you have 100 employees that sporadically and infrequently login
                    to the platform to update their emergency contact information. &nbsp;Rather than buying 100 licenses for those employees you have only 25. &nbsp;When an employee wants to login, they go to a custom webpage (which may be built on Force.com
                    Sites), enters their email address and clicks a button. &nbsp;Upon clicking that button, a query is performed to determine if there are any available licenses and if not, an employee with an active license that is has not logged in
                    to the system in x days is deactivated and this employee's user record is activated. &nbsp;The employee is then presented with a password input field and button to login. &nbsp;Should all active users have last login times within the
                    last hour or so, then this employee would be presented with a please try again later message.</p>
                  <p>This simple technique allows you to replicate a concurrent licensing model on top of the Force.com Platform's per user model.</p>
                </div>
              </p>
            </div>
          </div>
        </div>
        <div class="item">
          <div class="pad">
            <div class="primary">Generating Dynamic Visualforce in Apex</div>
            <input class="css-expander" type="checkbox" name="three" id="item-3" />
            <h4>
        <label class="css-expander" for="item-3" title="Click to expand">
        <label for="item-3" class="expanded-status"></label>&nbsp;Although not recommended for everyday use, it is possible to generate your Visualforce markup from your Apex Controller.... read more</label>
      </h4>
            <div class="css-expander-hide">
              <p>
                <div>
                  <p>While you can always use the "rendered" and "rerender" attributes to make your Visualforce pages more dynamic, there are times where you need a more powerful solution. Dynamic Visualforce allows you to actually generate your markup at
                    runtime based on logic in your controller.</p>
                </div>
              </p>
            </div>
          </div>
        </div>

        <div class="item">
          <div class="pad">
            <div class="primary">Dynamic SOQL in Apex</div>
            <input class="css-expander" type="checkbox" name="eight" id="item-8" />
            <h4>
        <label class="css-expander" for="item-8" title="Click to expand">
        <label for="item-8" class="expanded-status"></label>&nbsp;SOQL doesn't include the ability to do a Select * but with a little creativity you can easily do it.... read more</label>
      </h4>
            <div class="css-expander-hide">
              <p>
                <div>
                  <p>If you are familiar with SQL and learning Salesforce's SOQL, then you've probably realized that there is no ability to do a "Select *" in SOQL. This can be rather frustrating for newbies, but is easily worked around using existing features
                    of Apex as demonstrated below:</p>
                  <code-sample>
                    <template>
                    String queryString = 'Select ';
                    for ( String s : Schema.SObjectType.Account.fields.getMap().keySet() ){
                      queryString += s + ', ';
                    }
                    queryString = queryString.subString(0,queryString.length()-2);
                    queryString += ' from Account ';
                    List < Account> resultsList = database.query(queryString);

                    </template>
                  </code-sample>
                  <p>The above example is a dynamic query of Accounts. You can easily query any other object using the same concept by just replacing the word "Account" with the name of your object on lines 2 and 6. We also recommend adding WHERE and LIMIT
                    clauses to all queries to ensure you're only querying what you actually need. Dynamic queries are great for managed packages when you don't know what schema is going to look like in the install org. It's also great in a multi-developer
                    environment, when one person may be adding fields to a Visualforce page or if statements and the other is responsible for the constructor or a getter. If you want to get clever (and we always do) then you can setup a method like the
                    one below:
                  </p>
                  <code-sample>
                    <template>
                    public static List < sObject> queryDynamically(String objectName,
                    Map < String,Schema.SObjectField> schemaMap, String whereClause, String orderBy, Integer queryLimit ){
                      String queryString = 'Select ';
                      for ( String s : schemaMap.keySet() ){
                        queryString += s + ', ';
                      }
                      queryString = queryString.subString(0,queryString.length()-2);
                        queryString += ' from ' + objectName;
                        if ( whereClause != null ){
                          queryString += ' where ' + whereClause;
                        }
                        if ( orderBy != null ){
                          queryString += ' order by ' + orderBy;
                        }
                        if ( queryLimit != null ){
                          queryString += ' limit ' + queryLimit;
                        }
                        return database.query(queryString);
                      }
                      </template>
                  </code-sample>
                </div>
              </p>
            </div>
          </div>
        </div>
        <div class="item">
          <div class="pad">
            <div class="primary">Visualforce Tags Explained Visually</div>
            <input class="css-expander" type="checkbox" name="nine" id="item-9" />
            <h4>
        <label class="css-expander" for="item-9" title="Click to expand">
        <label for="item-9" class="expanded-status"></label>&nbsp;Since there are no images in the Visualforce developers guide, we've gone ahead and creating a sample page for you.... read more</label>
      </h4>
            <div class="css-expander-hide">
              <p>
                <div>
                  <code-sample>
                    <template>

< apex:page standardController="Account" title="This is the Page Title" >

< apex:form >

< apex:sectionheader title="Section Header Title" subtitle="Subtitle goes here" />

< apex:pageBlock title="This is a Page Block" helpTitle="This is the Help Title" helpURL="http://www.salesforce.com/us/developer/docs/pages/index.htm" >

< apex:pageBlockButtons location="top" > This is only on Top

< apex:commandButton value="This is a commandButton" action="{!cancel}" />

< /apex:pageBlockButtons>

< apex:pageBlockButtons location="bottom" > This is only on Bottom

< apex:commandButton value="This is a commandButton" action="{!cancel}" />

< /apex:pageBlockButtons>

< apex:pageBlockSection title="This is a page Block Section" >

< apex:pageBlockSectionItem >

< apex:outputlabel value="This is an output Label for a PageBlockSectionItem" />

< apex:inputText value="{!account.Name}" />

< /apex:pageBlockSectionItem>

< apex:pageBlockSection />

< apex:pageBlockSectionItem >

< apex:outputLink value="{!$Page.sample_VisualForce}" > This is an outputLink < / apex:outputLink>

< / apex:pageBlockSectionItem >

< / apex:pageBlockSection >

< / apex:pageBlock >

< apex:tabPanel switchType="client" selectedTab="tab1" >

< apex:tab id="tab1" name="tab1" label="Tab1" >

< apex:pageBlock title="Tab1 pageblock">

< apex:pageBlockSection title="Tab1 Section" >

< / apex:pageBlockSection>

< / apex:pageBlock>

< / apex:tab>

< apex:tab id="tab2" name="tab2" label="Tab2" >

< apex:pageBlock title="Tab2 pageblock">

< apex:pageBlockSection title="Tab2 Section">

< / apex:pageBlockSection>

< / apex:pageBlock>

< / apex:tab>

< / apex:tabPanel>

< / apex:form>

< / apex:page>

                    </template>
                  </code-sample>
                </div>
              </p>
            </div>

          </div>
        </div>
        <div class="item">
          <div class="pad">
            <div class="primary">Enabling Sharing on Cases</div>
            <input class="css-expander" type="checkbox" name="four" id="item-4" />
            <h4>
        <label class="css-expander" for="item-4" title="Click to expand">
        <label for="item-4" class="expanded-status"></label>&nbsp;The default Sharing for Cases in Salesforce is set to Public. These instructions will allow you to change the default.... read more</label>
      </h4>
            <div class="css-expander-hide">
              <p>
                <div>To enable sharing on Cases in Salesforce:
                  <ol>
                    <li>Click on your Name at the top of Salesforce and select Setup</li>
                    <li>Under Administration Setup, click on Security Controls | Sharing Settings</li>
                    <li>Click the Edit button for Organization-Wide Defaults</li>
                    <li>Change the Default Access for Case to Public Read Only</li>
                    <li>Click Save</li>
                  </ol>
                  You may optionally now add a new Case Sharing Rule to enable all users to edit each other's Cases as follows:
                  <ol>
                    <li>Scroll down to the Case Sharing Rules related list and click the New button</li>
                    <li>Fill in all the required fields, selecting All Internal Users for both Step 3 and Step 4 and Read Write for Step 5</li>
                    <li>Click Save</li>
                  </ol>
                </div>
              </p>
            </div>
          </div>
        </div>
        <!-- <div class="item">
          <div class="pad">
            <div class="primary">Force.com Pricing</div>
            <a style="font-weight: normal" href="">
              <div class="shortText">Purchase Force.com licenses from MK Partners.... read more</div>
            </a>
          </div>
        </div> -->
        <div class="item">
          <div class="pad">
            <div class="primary">Photo Uploader Help</div>


            <input class="css-expander" type="checkbox" name="five" id="item-5" />
            <h4>
        <label class="css-expander" for="item-5" title="Click to expand">
        <label for="item-5" class="expanded-status"></label>&nbsp;Photo Uploader requires Salesforce with the ability to access the Contacts standard object as well as run VisualForce with custom controllers. Typically this is available if you have the Enterprise Edition, Unlimited Edition, or Developer
          Editions of Sale... read more</label>
      </h4>
            <div class="css-expander-hide">
              <p>
                <div><b><span style="font-size: medium; ">Requirements</span></b>
                  <div>
                    &nbsp;</div>
                  <div>
                    Photo Uploader requires Salesforce with the ability to access the Contacts standard object as well as run VisualForce with custom controllers. Typically this is available if you have the Enterprise Edition, Unlimited Edition, or Developer Editions of
                    Salesforce.
                  </div>
                  <div>
                    &nbsp;</div>
                  <div>
                    <b><span style="font-size: medium; ">Installation</span></b></div>
                  <div>
                    &nbsp;</div>
                  <div>
                    To install Photo Uploader, visit its page on the AppExchange here: [1] Once installed, you will need to add the VisualForce component to your Contact page layouts:</div>
                  <div>
                    <ol>
                      <li>
                        Click Setup | App Setup | Contacts (or Leads or Accounts) | Page Layouts</li>
                      <li>
                        Click the Edit link next to the page layout you want to edit (or if not available, just click on the layout name)</li>
                      <li>
                        Select the VisualForce Pages option in the field selection box</li>
                      <li>
                        Drag the PhotoUploader page to your Contact Layout</li>
                      <li>
                        Edit the properties for the PhotoUploader page so that the height is set to 104 pixels</li>
                      <li>
                        Click the Save button to save the page layout.</li>
                    </ol>
                  </div>
                  <div>
                    &nbsp;</div>
                  <div>
                    <b><span style="font-size: medium; ">Saying Thanks</span></b></div>
                  <div>
                    &nbsp;</div>
                  <div>
                    If this product has helped your organization, we ask that you please post a positive review on the appexchange here:</div>
                  <div>
                    &nbsp;</div>
                  <div>
                    <b><span style="font-size: medium; ">Future Releases</span></b></div>
                  <div>
                    &nbsp;</div>
                  <div>
                    The following functionality is being considered for future releases of Photo Uploader:</div>
                  <div>
                    Ability to adjust size of image</div>
                  <div>
                    Make images publicly accessible (outside salesforce)</div>
                </div>
              </p>
            </div>
          </div>
        </div>
        <div class="item">
          <div class="pad">
            <div class="primary">Apex Roll-Up Summary of Contacts on Accounts</div>

            <input class="css-expander" type="checkbox" name="six" id="item-6" />
            <h4>
            <label class="css-expander" for="item-6" title="Click to expand">
            <label for="item-6" class="expanded-status"></label>&nbsp;Counting the number of Contacts on an Account can be easily done in Apex.... read more</label>
            </h4>
            <div class="css-expander-hide">
              <p>
                While you may not be able to create a standard field that rolls up the number of Contacts on an Account, you can easily do it with code. The below method can either be used as part of a Batch Apex process or an Apex Trigger. If you use it in an Apex Trigger,
                be sure to create the Trigger on the Contact object.
              </p>
            </div>
          </div>
        </div>
        <div class="item">
          <div class="pad">
            <div class="primary">Avoiding Viewstate Limits with Transient Data in Visualforce</div>
            <input class="css-expander" type="checkbox" name="ten" id="item-10" />
            <h4>
        <label class="css-expander" for="item-10" title="Click to expand">
        <label for="item-10" class="expanded-status"></label>&nbsp;By marking a variable as Transient, you can prevent your Controller from keeping its value in the viewstate.... read more</label>
      </h4>
            <div class="css-expander-hide">
              <p>
                <div>
                  <code-sample>
                    <template>
                    public with sharing class sample_Transient_Controller {
                    DateTime t1;
                    transient DateTime t2;
                    public String getT1() {
                    if (t1 == null) t1 = System.now();
                    return '' + t1;
                    }
                    public String getT2() {
                    if (t2 == null) t2 = System.now();
                    return '' + t2;
                    }
                    }
                    [/code]
                    < b>VisualForce Page < /b> < br/>
                    [code]
                    < apex:page controller="sample_Transient_Controller">
                    T1: {!t1} < br/>
                    T2: {!t2} < br/>
                    < apex:form >
                    < apex:commandLink value="refresh" />
                    < / apex:form>
                    < / apex:page>

                  </template>
                  </code-sample>
                </div>
              </p>
            </div>
          </div>
        </div>
        <div class="item">
          <div class="pad">
            <div class="primary">MK Partners Hosts its Website on Force.com Sites</div>
            <input class="css-expander" type="checkbox" name="seven" id="item-7" />
            <h4>
            <label class="css-expander" for="item-7" title="Click to expand">
            <label for="item-7" class="expanded-status"></label>&nbsp;As the most innovate Cloud Consulting firm, MK Partners decided to migrate its website from WordPress to Force.com Sites.... read more</label>
            </h4>
            <div class="css-expander-hide">
              <p>
                <div>
                  <p>
                    As the most innovative Cloud Consulting firm, MK Partners decided to migrate its website from WordPress to Force.com Sites. MK Partners was already a customer of salesforce.com and heavily uses their Salesforce application in daily operations. Since Force.com
                    Sites is included in Salesforce licenses, and a website redesign was being planned, it only made sense to take advantage of the feature.
                  </p>
                  <p>
                    Migration started by loading website assets (html, css, javascript and images) onto the Force.com platform. Once the look and feel was set, custom code was written to automatically create and populate pages with data in Salesforce. This custom code allows
                    non-technical staff to contribute to content to the <a style="display: inline;" href="http://www.mkpartners.com/support">knowledgebase</a> and <a style="display: inline;" href="http://www.mkpartners.com/customers">customer stories</a>                    on
                    <a style="display: inline;" href="http://www.mkpartners.com">www.mkpartners.com</a>. This tight integration enable mkpartners.com to automatically update as employees are doing their daily jobs. For instance, every time a project is
                    marked as completed in Salesforce, the website is updated to reflect the new number of projects completed.
                  </p>
                  <p>
                    As a small business, we don't always have the time to focus on marketing. Having Salesforce update our website for us not only saves us time but ensures that our prospects and customers get up-to-date information when they visit our website. Not having
                    to remember additional passwords for an outside content management system is a bonus too.
                  </p>
                  <p>
                    If you're interested in migrating your website to Force.com, <a style="display: inline;" href="http://www.mkpartners.com/contactMe">drop us a line</a>.
                  </p>
                </div>
              </p>
            </div>
          </div>
        </div>
        <div class="item">
          <div class="pad">
            <div class="primary">Exposing Apex REST Web Services via Force.com Sites</div>

            <input class="css-expander" type="checkbox" name="eleven" id="item-11" />
            <h4>
            <label class="css-expander" for="item-11" title="Click to expand">
            <label for="item-11" class="expanded-status"></label>&nbsp;You can publish your Apex REST Web Services using Force.com Sites so that your web services are truly public without any authentication required.... read more</label>
            </h4>
            <div class="css-expander-hide">
              <p>
                <div>
                  Force.com makes it very simple to publish an Apex method as a REST Web Service. &nbsp;In order to call that Web Service you need to first authenticate with a username and password (or oAuth token). &nbsp;However, you can expose these Web Services publicly
                  too without any authentication using Force.com Sites. &nbsp;<strong>NOTE: Whenever providing any service/page without authentication, you expose yourself to security vulnerabilities, so be sure to consult an expert before doing so.</strong><br>
                  <br> Let's start by creating a new Apex Class named "helloREST" and adding a single static method to it named "whatTimeIsIt" that returns the current date/time. &nbsp;Your class should look something like this:<br>
                  <br>
                  <code-sample>
                    <template>
                  public class helloRest{
                    public static String whatTimeIsIt(){
                      return system.now().format();
                    }
                  }
                    </template>
                  </code-sample>
                  <br>
                  <br> To transform this simple class and method into a REST Web Service, we need to do the following:
                  <ol>
                    <li>
                      Make our class Global</li>
                    <li>
                      Add the RestResource annotation with a URLmapping&nbsp;to our class</li>
                    <li>
                      Make our method Global</li>
                    <li>
                      Add a REST annotation to our method</li>
                  </ol>
                  Your class should now look something like this:
                  <br>
                  <br>
                  <code-sample>
                    <template>
                    @RestResource(urlMapping='/helloRest/*')
                    global class helloRest{
                    @HttpGet
                    global static String whatTimeIsIt(){
                      return system.now().format();
                      }
                    }
                  </template>
                  </code-sample>
                  <br><br> You've just created a REST Web Service in Apex. Testing the web service requires you to first authenticate into Salesforce, get a SessionId and then pass in that SessionId in the header when calling the Web Service. That's great
                  for security, but not so great if the functionality needs to be exposed to the world. If you have a Force.com Site, you have already published Visualforce Pages to the world. With a few clicks you can also expose this Web Service.
                  <ol>
                    <li>
                      Go to the detail page (not the edit page) for your Force.com Site and click on the Public Access Settings button.</li>
                    <li>
                      Scroll down to the Apex Class related list and click the Edit button.</li>
                    <li>
                      Move your new Class to the Enabled Apex Classes column and click Save</li>
                  </ol>

                  That's it, anyone can now call your Web Service using the below URL structure:
                  <br> http://[SITE_NAME].force.com/services/apexrest/[URLMAPPING]
                </div>
              </p>
            </div>

          </div>
        </div>
        <div class="item">
          <div class="pad">
            <div class="primary">Required Field Validation on VisualForce with Javascript</div>

            <input class="css-expander" type="checkbox" name="twelve" id="item-12" />
            <h4>
            <label class="css-expander" for="item-12" title="Click to expand">
            <label for="item-12" class="expanded-status"></label>&nbsp;Quickly check that required fields have been filled out... read more</label>
            </h4>
            <div class="css-expander-hide">
              <p>
                <div>

                  <div>
                    <p>When writing a custom VisualForce page, you commonly need to verify that required fields have been filled out.</p>

                    <p>However, when you design complex pages with multiple ajax requests and dynamic rendering, using the <strong>required="true"</strong> parameter on tag elements becomes a problem. Using APEX to validate your input is also a much more
                      cumbersome experience to your users as the data has to be sent to the server, validated, and returned - sometimes with nasty errors that you didn't think to handle. By throwing a little javascript into the equation, you can quickly
                      and easily check that all required fields have been filled out - and even prevent your action method from running! But, enough talk.</p>

                    <p>Let's look at the code.</p>

                    <code-sample>
                      <template>
                      < apex:commandbutton value="My Button" action="{!myApexAction}" onclick="if(!fieldsFilledOut()) return false;"/>
                    </template>
                    </code-sample>

                    <p>You see that the onclick event of the button calls out fieldsFilledOut() javascript function; the function returns true if all fields are filled out. If the function returns false (there is a missing field), the action method is not
                      called because our onclick method will return false. A nice feature to add to your page is an instant check while the user is filling it out. If they tab to a field and then skip it, it's nice to instantly show them "Nope, you actually
                      need to fill this one out". We use a function called checkVal() for that and pass in the "this" variable which resolves to the specific element calling the function:</p>

                    <code-sample>
                      <template>
                        < apex:inputtext styleClass="mustFillOut" value="{!myVar}" onkeyup="checkVal(this);"/>
                      </template>
                    </code-sample>


                    <p style="font-weight:bold">**NOTE** For any field that you are using a selectlist (dropdown) option you should use the onchange action instead of onkeyup.**</p>

                    <p>You may be wondering about the styleClass="mustFillOut". This is to make it super easy to grab all the fields that should be required. As long as you do not have an actual css class called "mustFillOut" you can use this on any input
                      element you want to require - even in cascade if you have other style classes applied to the element.</p>

                    <code>styleClass="myOtherCSS mustFillOut"</code>

                    <p>Here is the actual code for the two functions, checkVal() and fieldsFilledOut() that we have been talking about.</p>

                    <code-sample>
                      <template>
                          function fieldsFilledOut(){
                              var hasErrors = false;
                              var eles = document.getElementsByClassName('mustFillOut');
                              for (var i=0; i < eles.length; i++){
                                  var ele = eles[i];
                                  if (!ele.value && ele.tagName != 'A'){
                                      checkVal(ele);
                                      hasErrors = true;
                                  }
                              }
                              if (hasErrors){
                                  alert('You must fill out all required fields');
                                  return false;
                              }
                              else { return true; }
                          }
                          function checkVal(ele){
                              if (ele.value) ele.style.background = 'white';
                              else ele.style.background = '#FFCCCC';
                          }
                        </template>
                    </code-sample>

                    <p>When calling the fieldsFilledOut() function, you'll notice we display an alert to the user notifying them that they need to fill out all the required fields.</p>

                    <p>That's it! You're done!</p>

                    <p>Check back soon for a follow up post on how to make the functions dynamic enough to allow for multiple "sections" of required fields depending on which button / action you are trying to call.</p>
                  </div>


                </div>
              </p>
            </div>

          </div>
        </div>
      </div>

    </div>
  </div>

</body>

</html>
